@page "/gallery"
@inject GalleryViewModel ViewModel
<PageTitle>Gallery</PageTitle>

<MudText Typo="Typo.h3" GutterBottom="true">Gallery</MudText>
<MudText Class="mb-8">This component demonstrates fetching data from the bing!</MudText>
<MudGrid>
    @foreach (var wallpaper in wallpapers)
    {
        <MudItem xs="6" sm="3">
            <MudCard>
                <MudCardMedia Image=@string.Format("https://www.bing.com{0}",wallpaper.Url)/>
                <MudCardContent>
                    <MudText Typo="Typo.h5">@wallpaper.Fullstartdate.ToString("yyyy-M-d")</MudText>
                    <MudText Typo="Typo.body2">@wallpaper.Title</MudText>
                </MudCardContent>
            </MudCard>
        </MudItem>
    }
</MudGrid>

@code {

    private List<Wallpaper> wallpapers { get; } = new();

    protected override async Task OnInitializedAsync()
    {
        var items = await ViewModel.FetchDataAsync();
        wallpapers.AddRange(items);
    }
}
